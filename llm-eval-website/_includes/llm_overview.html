{% assign translations_key = 'translations_' | append: page.lang %}
{% assign score_columns = "reasoning,inclusion,simplification,summarization,factuality,energy_use" | split: "," %}

<div class="table-container">
    <table>
        <thead>
            <tr>
                {% for column in site.visible_columns %}
                    {% if score_columns contains column %}
                        {% include score_header.html score_type=column%}
                        <!-- <th class="score-cell">{{ site.data[translations_key].table_headers[column] }}</th> -->
                    {% else %}
                        <th>{{ site.data[translations_key].table_headers[column] }}</th>
                    {% endif %}
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% assign sorted_models = site.data.models | sort: "energy_use" | reverse %}
            {% for model in sorted_models %}
            <tr>
                {% for column in site.visible_columns %}
                    {% if column == 'model' %}
                        <td><a href="{{ model.model_url }}" target="_blank">{{ model.model }}</a></td>
                    {% elsif column == 'provider' %}
                        <td><a href="{{ model.provider_url }}" target="_blank">{{ model.provider }}</a></td>
                    {% elsif score_columns contains column %}
                        {% assign score_value = model[column] %}
                        <td class="score-cell">{% include score_circle.html score=score_value %}</td>
                    {% elsif column == 'license' %}
                        {% assign license = model[column] %}
                        <td class="license-cell">{% include license_cell.html license=license %}</td>
                    {% else %}
                        <td>{{ model[column] }}</td>
                    {% endif %}
                    <!-- For a score of 3 -->
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
